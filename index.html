<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Organization</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav>
        <div class="nav-start">
            <div class="top-icon-container">
                <div class="top-icon-rotation">
                    <img class="top-icon" src="icon.png" alt="Organization Icon">
                </div>
            </div>
        </div>

        <div class="nav-center">
            <a href="index.html">Home</a>
            <a href="archives.html">Archives</a>
            <a href="missions.html">Missions</a>
            <a href="forum.html">Forum</a>
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
        </div>

        <div class="nav-end">
            <button class="menu-toggle floating-menu-toggle main-menu-toggle">Menu ▾</button>
            <ul class="menu floating-menu main-menu">
                <!-- Missions -->
                <li class="menu-item">
                    <button class="menu-toggle">Missions ▾</button>
                    <ul class="menu">
                        <li class="menu-item"><button onclick="location.href='missions.html#op1'">Operation Crimson
                                Veil</button></li>
                        <li class="menu-item"><button onclick="location.href='missions.html#op2'">Protocol Black
                                Window</button></li>
                        <li class="menu-item">
                            <button class="menu-toggle">Secret Missions ▸</button>
                            <ul class="menu">
                                <li class="menu-item"><button onclick="location.href='missions.html#secret1'">Redacted
                                        File A</button></li>
                                <li class="menu-item"><button onclick="location.href='missions.html#secret2'">Redacted
                                        File B</button></li>
                            </ul>
                        </li>
                    </ul>
                </li>

                <!-- Files -->
                <li class="menu-item">
                    <button class="menu-toggle">Files ▾</button>
                    <ul class="menu">
                        <li class="menu-item"><button onclick="location.href='secret1.html'">Confidential File
                                1</button></li>
                        <li class="menu-item"><button onclick="location.href='secret2.html'">Confidential File
                                2</button></li>
                        <li class="menu-item">
                            <button class="menu-toggle">Redacted Documents ▸</button>
                            <ul class="menu">
                                <li class="menu-item"><button onclick="location.href='secret3.html'">Document X</button>
                                </li>
                                <li class="menu-item"><button onclick="location.href='secret4.html'">Document Y</button>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>

    <h1>The Organization</h1>

    <main>
        <section>
            <p>
                We are an independent consortium of analysts, operatives, and archivists dedicated to correcting
                systemic failures when
                institutions fail to act. We collect, verify, and act on evidence the public cannot, or will
                not acknowledge. Our mandate is absolute.
            </p>
        </section>

        <section>
            <h2>The Awakening</h2>
            <p>The work continues beneath the surface. Every day, we get closer to the return. They said it was
                impossible. They were wrong.</p>
        </section>

        <section>
            <h2>Hidden Files</h2>
            <p>
                Founded in 2009 by the master intelligence, the
            </p>
        </section>

        <section>
            <h2>Founding and Purpose</h2>
            <p>
                Established in <strong>2009</strong> under the vision of <strong>The Founder</strong>, known to some as
                <em>Nivlac</em>, the Organization was built to correct the decay of modern order. Governments failed to
                see
                the fractures forming beneath society. We did not. Our mission is to restore balance—through any means
                necessary.
            </p>
        </section>

        <section>
            <h2>The Awakening Protocol</h2>
            <p>
                The Awakening marks the transition between silence and dominion. Our networks, our operatives, our
                machines—
                all converge toward the Event. When the countdown reaches zero, the world will be reset. The unworthy
                will
                vanish. The faithful will remain.
            </p>
            <div class="countdown">
                <p><strong>Time Until the Event:</strong></p>
                <div id="timer" class="glow-text"></div>
            </div>
        </section>

        <section>
            <h2>Designation: The Variable</h2>
            <p>
                Intelligence reports indicate an anomaly—a disruptor whose presence threatens the culmination of our
                operations. The identity of this entity remains unknown. If detected, eliminate at once.
            </p>
        </section>
    </main>

    <!-- Floating Icons -->
    <img src="icon.png" class="icon" style="top:10%; left:5%;">
    <img src="icon.png" class="icon" style="top:60%; left:20%;">
    <img src="icon.png" class="icon" style="top:30%; right:10%;">
    <img src="icon.png" class="icon" style="bottom:15%; right:25%;">

    <script>
        // Automatically mark dropdown buttons
        document.querySelectorAll('.menu-item > button').forEach(btn => {
            if (btn.nextElementSibling && btn.nextElementSibling.classList.contains('menu')) {
                btn.classList.add('has-dropdown');
            }
        });

        // Expand/Collapse Menu
        function expandMenu(menu) {
            menu.classList.add('open');
            menu.style.maxHeight = menu.scrollHeight + 'px';
            menu.addEventListener('transitionend', () => {
                menu.style.maxHeight = 'none';
            }, { once: true });
        }

        function collapseMenu(menu) {
            menu.style.maxHeight = menu.scrollHeight + 'px';
            menu.offsetHeight; // force reflow
            menu.style.maxHeight = '0';
            menu.classList.remove('open');
        }

        const menuToggles = document.querySelectorAll('.menu-toggle');

        window.addEventListener('click', (e) => {
            menuToggles.forEach(toggle => {
                const menu = toggle.nextElementSibling;
                if (!menu) return;

                if (toggle.contains(e.target)) {
                    const isOpen = menu.classList.contains('open');
                    if (isOpen) {
                        collapseMenu(menu);
                        toggle.classList.remove('expanded');
                    } else {
                        expandMenu(menu);
                        toggle.classList.add('expanded');
                    }
                } else if (!menu.contains(e.target)) {
                    collapseMenu(menu);
                    toggle.classList.remove('expanded');
                }
            });
        });

        // Countdown timer to the "Event"
        const countdownDate = new Date("2025-11-06T18:00:00").getTime(); // change as needed
        const timerEl = document.getElementById("timer");

        const updateTimer = () => {
            const now = new Date().getTime();
            const distance = countdownDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            timerEl.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;

            if (distance < 0) {
                clearInterval(x);
                timerEl.textContent = "EVENT TRIGGERED";
                document.body.classList.add("event-triggered");
            }
        };

        const x = setInterval(updateTimer, 1000);
        updateTimer();
    </script>
</body>

</html>