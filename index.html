<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Organization</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav>
        <div class="nav-start">
            <div class="top-icon-container">
                <div class="top-icon-rotation">
                    <img class="top-icon" src="icon.png" alt="Organization Icon">
                </div>
            </div>
        </div>
        <div class="nav-center">
            <a href="index.html">Home</a>
            <a href="archives.html">Archives</a>
            <a href="missions.html">Missions</a>
            <a href="forum.html">Forum</a>
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
            <a href="#" onclick="glitchText(this)">███</a>
        </div>
        <div class="nav-end">
            <div class="menu-root">
                <button class="menu-button">Menu ▾</button>
                <div class="menu-root-items">
                    <!-- Top Level -->
                    <div class="menu">
                        <button class="menu-button">Missions ▾</button>
                        <div class="menu-items">
                            <button onclick="location.href='missions.html#op1'">Operation Crimson Veil</button>
                            <button onclick="location.href='missions.html#op2'">Protocol Black Window</button>
                            <div class="menu">
                                <button class="menu-button">Secret Missions ▸</button>
                                <div class="menu-items">
                                    <button onclick="location.href='missions.html#secret1'">Redacted File A</button>
                                    <button onclick="location.href='missions.html#secret2'">Redacted File B</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Top Level -->
                    <div class="menu">
                        <button class="menu-button">Files ▾</button>
                        <div class="menu-items">
                            <button onclick="location.href='secret1.html'">Confidential File 1</button>
                            <button onclick="location.href='secret2.html'">Confidential File 2</button>
                            <div class="menu">
                                <button class="menu-button">Redacted Documents ▸</button>
                                <div class="menu-items">
                                    <button onclick="location.href='secret3.html'">Document X</button>
                                    <button onclick="location.href='secret4.html'">Document Y</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Top Level -->
                </div>
            </div>
        </div>
    </nav>

    <h1>The Organization</h1>

    <main>
        <section>
            <p>We’ve been waiting for you. Scroll down. Keep scrolling. You were chosen.</p>
            <p>There is no turning back now.</p>
        </section>

        <section>
            <h2>The Awakening</h2>
            <p>The work continues beneath the surface. Every day, we get closer to the return. They said it was
                impossible — they were wrong.</p>
            <button onclick="glitchText(this)">Learn More</button>
        </section>

        <section>
            <h2>Hidden Files</h2>
            <p>Some buttons do nothing. Some reveal too much. Choose carefully.</p>
            <div class="hidden-menu">
                <button onclick="revealMessage()">Access File #17</button>
                <p id="message" class="hidden">Access denied. Clearance insufficient.</p>
                <button onclick="glitchText(this)">???</button>
            </div>
        </section>

        <section class="deep">
            <h2>Deeper Layers</h2>
            <p>The page seems endless, but it isn’t. It’s watching how far you’ll go.</p>
            <p>Keep scrolling...</p>
            <p>(You shouldn’t be here.)</p>
        </section>
    </main>

    <!-- Floating icons -->
    <img src="icon.png" class="icon" style="top:10%; left:5%;">
    <img src="icon.png" class="icon" style="top:60%; left:20%;">
    <img src="icon.png" class="icon" style="top:30%; right:10%;">
    <img src="icon.png" class="icon" style="bottom:15%; right:25%;">

    <script>
        function revealMessage() {
            const msg = document.getElementById('message');
            msg.classList.toggle('hidden');
        }

        function glitchText(el) {
            const original = el.textContent;
            let glitch = '';
            const chars = '█▓▒░0123456789ABCDEF';
            for (let i = 0; i < original.length; i++) {
                glitch += chars[Math.floor(Math.random() * chars.length)];
            }
            el.textContent = glitch;
            setTimeout(() => el.textContent = original, 500);
        }



        const menuButtons = document.querySelectorAll('.menu-button');

        menuButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                const menuItems = button.nextElementSibling;
                if (!menuItems) return;

                // Close other open menus at the same level
                const container = menuItems.parentElement;
                const parent = container.parentElement;
                const siblings = parent.children;
                for (const sib of siblings) {
                    const sibItems = sib.querySelector('.menu-items');
                    if (sibItems !== menuItems) sibItems.style.maxHeight = null;
                }

                // Toggle current submenu
                if (menuItems.style.maxHeight) {
                    menuItems.style.maxHeight = null;
                } else {
                    menuItems.style.maxHeight = menuItems.scrollHeight + "px";
                }
            });
        });
    </script>
</body>

</html>