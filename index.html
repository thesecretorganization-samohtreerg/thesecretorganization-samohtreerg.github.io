<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Organization</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav>
        <div class="nav-start">
            <div class="top-icon-container">
                <div class="top-icon-rotation">
                    <img class="top-icon" src="icon.png" alt="Organization Icon">
                </div>
            </div>
        </div>

        <div class="nav-center">
            <a href="index.html">Home</a>
            <a href="archives.html">Archives</a>
            <a href="missions.html">Missions</a>
            <a href="forum.html">Forum</a>
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
            <a href="#" onclick="glitchText(this)" class="glow-text">███</a>
        </div>

        <div class="nav-end">
            <button class="menu-toggle floating-menu-toggle main-menu-toggle">Menu ▾</button>
            <ul class="menu floating-menu main-menu">
                <!-- Missions -->
                <li class="menu-item">
                    <button class="menu-toggle">Missions ▾</button>
                    <ul class="menu">
                        <li class="menu-item"><button onclick="location.href='missions.html#op1'">Operation Crimson
                                Veil</button></li>
                        <li class="menu-item"><button onclick="location.href='missions.html#op2'">Protocol Black
                                Window</button></li>
                        <li class="menu-item">
                            <button class="menu-toggle">Secret Missions ▸</button>
                            <ul class="menu">
                                <li class="menu-item"><button onclick="location.href='missions.html#secret1'">Redacted
                                        File A</button></li>
                                <li class="menu-item"><button onclick="location.href='missions.html#secret2'">Redacted
                                        File B</button></li>
                            </ul>
                        </li>
                    </ul>
                </li>

                <!-- Files -->
                <li class="menu-item">
                    <button class="menu-toggle">Files ▾</button>
                    <ul class="menu">
                        <li class="menu-item"><button onclick="location.href='secret1.html'">Confidential File
                                1</button></li>
                        <li class="menu-item"><button onclick="location.href='secret2.html'">Confidential File
                                2</button></li>
                        <li class="menu-item">
                            <button class="menu-toggle">Redacted Documents ▸</button>
                            <ul class="menu">
                                <li class="menu-item"><button onclick="location.href='secret3.html'">Document X</button>
                                </li>
                                <li class="menu-item"><button onclick="location.href='secret4.html'">Document Y</button>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>

    <h1>The Organization</h1>

    <main>
        <section>
            <p>We’ve been waiting for you. Scroll down. Keep scrolling. You were chosen.</p>
            <p>There is no turning back now.</p>
        </section>

        <section>
            <h2>The Awakening</h2>
            <p>The work continues beneath the surface. Every day, we get closer to the return. They said it was
                impossible — they were wrong.</p>
            <button class="btn" onclick="glitchText(this)">Learn More</button>
        </section>

        <section>
            <h2>Hidden Files</h2>
            <p>Some buttons do nothing. Some reveal too much. Choose carefully.</p>
            <div class="hidden-menu">
                <button class="btn" onclick="revealMessage()">Access File #17</button>
                <p id="message" class="hidden">Access denied. Clearance insufficient.</p>
                <button class="btn" onclick="glitchText(this)">???</button>
            </div>
        </section>

        <section class="deep">
            <h2>Deeper Layers</h2>
            <p>The page seems endless, but it isn’t. It’s watching how far you’ll go.</p>
            <p>Keep scrolling...</p>
            <p>(You shouldn’t be here.)</p>
        </section>
    </main>

    <!-- Floating Icons -->
    <img src="icon.png" class="icon" style="top:10%; left:5%;">
    <img src="icon.png" class="icon" style="top:60%; left:20%;">
    <img src="icon.png" class="icon" style="top:30%; right:10%;">
    <img src="icon.png" class="icon" style="bottom:15%; right:25%;">

    <script>
        // Glitch effect
        function glitchText(el) {
            const original = el.textContent;
            const chars = '█▓▒░0123456789ABCDEF';
            el.textContent = [...original].map(() =>
                chars[Math.floor(Math.random() * chars.length)]
            ).join('');
            setTimeout(() => el.textContent = original, 500);
        }

        // Expand/Collapse Menu
        function expandMenu(menu) {
            menu.classList.add('open');
            menu.style.maxHeight = menu.scrollHeight + 'px';
            menu.addEventListener('transitionend', () => {
                menu.style.maxHeight = 'none';
            }, { once: true });
        }

        function collapseMenu(menu) {
            menu.style.maxHeight = menu.scrollHeight + 'px';
            menu.offsetHeight; // force reflow
            menu.style.maxHeight = '0';
            menu.classList.remove('open');
        }

        const menuToggles = document.querySelectorAll('.menu-toggle');

        window.addEventListener('click', (e) => {
            menuToggles.forEach(toggle => {
                const menu = toggle.nextElementSibling;
                if (!menu) return;

                if (toggle.contains(e.target)) {
                    const isOpen = menu.classList.contains('open');
                    if (isOpen) {
                        collapseMenu(menu);
                        toggle.classList.remove('expanded');
                    } else {
                        expandMenu(menu);
                        toggle.classList.add('expanded');
                    }
                } else if (!menu.contains(e.target)) {
                    collapseMenu(menu);
                    toggle.classList.remove('expanded');
                }
            });
        });

        // Example placeholder for file access
        function revealMessage() {
            document.getElementById('message').classList.remove('hidden');
        }
    </script>
</body>

</html>